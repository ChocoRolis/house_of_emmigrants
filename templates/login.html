<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - House of Emigrants</title>

    <!--GENERAL STYLE-->
    <link rel="stylesheet" href="../static/css/general.css" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
      crossorigin="anonymous"
    ></script>

    <!-- Font Awesome for Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        background: linear-gradient(135deg, #f5f1eb 0%, #e8dcc0 100%);
        min-height: 100vh;
        font-family: "Inter", sans-serif;
      }

      .login-hero {
        background: linear-gradient(135deg, #8b7355 0%, #6b5b47 100%);
        color: white;
        padding: 60px 0;
        position: relative;
        overflow: hidden;
      }

      .login-hero::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url("../static/images/utvandrarnas.png") center/cover;
        opacity: 0.1;
        z-index: 1;
      }

      .hero-content {
        position: relative;
        z-index: 2;
        text-align: center;
      }

      .hero-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        font-family: "Montserrat", sans-serif;
      }

      .hero-subtitle {
        font-size: 1.1rem;
        opacity: 0.9;
        font-weight: 300;
      }

      .login-section {
        padding: 80px 0;
        background: linear-gradient(135deg, #f5f1eb 0%, #e8dcc0 100%);
      }

      .login-container {
        background: white;
        border-radius: 25px;
        padding: 60px;
        box-shadow: 0 20px 60px rgba(139, 115, 85, 0.2);
        border: 2px solid rgba(139, 115, 85, 0.15);
        max-width: 500px;
        margin: 0 auto;
        position: relative;
        overflow: hidden;
        backdrop-filter: none;
      }

      .login-container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: linear-gradient(135deg, #8b7355 0%, #6b5b47 100%);
      }

      .login-title {
        font-size: 2rem;
        font-weight: 700;
        color: #5d4e37;
        margin-bottom: 2rem;
        text-align: center;
        font-family: "Montserrat", sans-serif;
      }

      .login-subtitle {
        color: #7f8c8d;
        text-align: center;
        margin-bottom: 2.5rem;
        font-size: 1rem;
        line-height: 1.6;
      }

      .form-group {
        margin-bottom: 1.5rem;
        position: relative;
      }

      .form-floating {
        position: relative;
        margin-bottom: 1.5rem;
      }

      .form-floating .form-control {
        padding: 25px 50px 10px 20px !important;
        height: auto;
        min-height: 60px;
        background: #ffffff !important;
        border: 2px solid #d4c5a1 !important;
        border-radius: 15px;
        font-size: 1rem;
        transition: all 0.3s ease;
        color: #5d4e37 !important;
        box-shadow: 0 2px 8px rgba(139, 115, 85, 0.1);
      }

      .form-floating .form-control:focus {
        border-color: #8b7355 !important;
        box-shadow: 0 0 0 0.2rem rgba(139, 115, 85, 0.25),
          0 4px 12px rgba(139, 115, 85, 0.15) !important;
        background: #ffffff !important;
        outline: none;
      }

      .form-floating .form-control:hover {
        background: #ffffff !important;
        border-color: #c2b49a !important;
      }

      .form-floating .form-control::placeholder {
        color: transparent !important;
      }

      .form-floating label {
        position: absolute;
        top: 20px;
        left: 20px;
        font-size: 1rem;
        color: #a0856b !important;
        font-weight: 400;
        transition: all 0.3s ease;
        pointer-events: none;
        background: transparent !important;
        padding: 0;
        transform-origin: left top;
        z-index: 2;
      }

      .form-floating .form-control:focus + label,
      .form-floating .form-control:not(:placeholder-shown) + label {
        top: 8px !important;
        left: 16px !important;
        font-size: 0.75rem !important;
        color: #8b7355 !important;
        font-weight: 600;
        transform: scale(1);
        background: #ffffff !important;
        padding: 2px 8px !important;
        border-radius: 4px;
        box-shadow: 0 1px 3px rgba(139, 115, 85, 0.1);
      }

      /* Asegurar que no haya interferencias de Bootstrap */
      .login-container .form-floating .form-control {
        background-color: #ffffff !important;
        border-color: #d4c5a1 !important;
      }

      .login-container .form-floating .form-control:focus {
        background-color: #ffffff !important;
        border-color: #8b7355 !important;
        box-shadow: 0 0 0 0.2rem rgba(139, 115, 85, 0.25),
          0 4px 12px rgba(139, 115, 85, 0.15) !important;
      }

      .input-icon {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        color: #a0856b;
        font-size: 1.1rem;
        z-index: 3;
        pointer-events: none;
      }

      .btn-login {
        background: linear-gradient(135deg, #8b7355 0%, #6b5b47 100%);
        border: none;
        border-radius: 15px;
        padding: 15px 40px;
        font-size: 1.1rem;
        font-weight: 600;
        color: white;
        width: 100%;
        margin-top: 1rem;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .btn-login:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(139, 115, 85, 0.4);
        color: white;
      }

      .btn-login:focus {
        box-shadow: 0 0 0 0.2rem rgba(139, 115, 85, 0.25);
        color: white;
      }

      .forgot-password {
        text-align: center;
        margin-top: 2rem;
      }

      .forgot-password a {
        color: #8b7355;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
        border-bottom: 1px solid transparent;
      }

      .forgot-password a:hover {
        color: #6b5b47;
        border-bottom-color: #6b5b47;
      }

      .back-home {
        text-align: center;
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 1px solid #e8dcc0;
      }

      .back-home a {
        color: #7f8c8d;
        text-decoration: none;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .back-home a:hover {
        color: #5d4e37;
      }

      @media (max-width: 768px) {
        .login-container {
          margin: 20px;
          padding: 40px 30px;
        }

        .hero-title {
          font-size: 2rem;
        }

        .login-section {
          padding: 40px 0;
        }
      }

      /* Animation for form elements */
      .login-container > * {
        animation: slideUp 0.6s ease-out forwards;
        opacity: 0;
        transform: translateY(30px);
      }

      .login-container .login-title {
        animation-delay: 0.1s;
      }

      .login-container .login-subtitle {
        animation-delay: 0.2s;
      }

      .login-container .form-group:nth-child(3) {
        animation-delay: 0.3s;
      }

      .login-container .form-group:nth-child(4) {
        animation-delay: 0.4s;
      }

      .login-container .btn-login {
        animation-delay: 0.5s;
      }

      .login-container .forgot-password {
        animation-delay: 0.6s;
      }

      .login-container .back-home {
        animation-delay: 0.7s;
      }

      @keyframes slideUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
          <!-- Logo -->
          <a href="/" class="navbar-brand">
            <img
              src="../static/images/Kulturparken.png"
              alt="Kulturparken Logo"
              height="50"
            />
          </a>

          <!-- Navigation Items -->
          <div class="navbar-nav me-auto">
            <a href="/" class="nav-link">
              <i class="fas fa-home me-2"></i>Home
            </a>
            {% if session.get('admin_id') %}
            <a href="/uploadTool" class="nav-link">
              <i class="fas fa-upload me-2"></i>Upload Files
            </a>
            {% endif %}
            <a href="/dataExploration" class="nav-link">
              <i class="fas fa-chart-bar me-2"></i>Data Exploration
            </a>
            <a href="/about" class="nav-link">
              <i class="fas fa-info-circle me-2"></i>About & Contact
            </a>
          </div>

          <div class="navbar-nav">
            <!-- Language Selector -->
            <div class="nav-item dropdown me-2">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="languageDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="fas fa-globe me-1"></i>
                {{ 'ES' if current_lang == 'es' else 'EN' }}
              </a>
              <ul
                class="dropdown-menu dropdown-menu-end"
                aria-labelledby="languageDropdown"
              >
                {% for code, name in languages.items() %}
                <li>
                  <a
                    class="dropdown-item{% if code == current_lang %} active{% endif %}"
                    href="/switch_language/{{ code }}"
                  >
                    {{ name }}
                  </a>
                </li>
                {% endfor %}
              </ul>
            </div>

            {% if session.get('admin_id') %}
            <div class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="adminDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="fas fa-user-circle me-2"></i>{{
                session.get('admin_email') }}
              </a>
              <ul
                class="dropdown-menu dropdown-menu-end"
                aria-labelledby="adminDropdown"
              >
                <li>
                  <a class="dropdown-item" href="/admin/stories">
                    <i class="fas fa-book me-2"></i>Manage Stories
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="/admin/admins">
                    <i class="fas fa-users-cog me-2"></i>Manage Admins
                  </a>
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li>
                  <a class="dropdown-item" href="/logout">
                    <i class="fas fa-sign-out-alt me-2"></i>Log out
                  </a>
                </li>
              </ul>
            </div>
            {% else %}
            <a href="/login" class="nav-link active">
              <i class="fas fa-sign-in-alt me-2"></i>Login
            </a>
            {% endif %}
          </div>
        </div>
      </nav>
    </header>

    <!-- Hero Section -->
    <section class="login-hero">
      <div class="container">
        <div class="hero-content">
          <h1 class="hero-title">Welcome Back</h1>
          <p class="hero-subtitle">
            Sign in to access administrative features and manage content
          </p>
        </div>
      </div>
    </section>

    <!-- Login Section -->
    <section class="login-section">
      <div class="container">
        <div class="login-container">
          <h2 class="login-title">
            <i class="fas fa-user-shield me-2"></i>Admin Login
          </h2>
          <p class="login-subtitle">
            Enter your credentials to access the administrative dashboard
          </p>

          <form method="POST">
            <div class="form-floating">
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="admin@example.com"
                required
              />
              <label for="email">Email Address</label>
              <i class="fas fa-envelope input-icon"></i>
            </div>

            <div class="form-floating">
              <input
                type="password"
                class="form-control"
                id="password"
                name="password"
                placeholder="••••••••"
                required
              />
              <label for="password">Password</label>
              <i class="fas fa-lock input-icon"></i>
            </div>

            <button type="submit" class="btn btn-login">
              <i class="fas fa-sign-in-alt me-2"></i>Sign In
            </button>
          </form>

          <div class="forgot-password">
            <a href="/changePassword">
              <i class="fas fa-key me-1"></i>Forgot your password?
            </a>
          </div>

          <div class="back-home">
            <a href="/"> <i class="fas fa-arrow-left me-1"></i>Back to Home </a>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="footer-content">
        <div class="logo">
          <img src="../static/images/Kulturparken.png" />
        </div>
        <div>
          <p>House of Emigrants visiting address:</p>
          <p>Vilhelm Mobergs gata 4, 352 29 Växjö.</p>
        </div>
        <div>
          <p>About the House of Emigrants</p>
          <p>
            <a
              href="https://www.kulturparkensmaland.se/en/the-house-of-emigrants/"
              >https://www.kulturparkensmaland.se/en/the-house-of-emigrants/</a
            >
          </p>
          <p>Contact information:</p>
          <p>+46 470-70 42 00</p>
          <p>
            <a href="mailto:information@kulturparkensmaland.se"
              >information@kulturparkensmaland.se</a
            >
          </p>
        </div>
      </div>
    </footer>

    <!-- Custom JS for enhanced interactions -->
    <script>
      // Enhanced form interactions
      document.querySelectorAll(".form-control").forEach((input) => {
        input.addEventListener("focus", function () {
          this.parentElement.style.transform = "scale(1.02)";
          this.parentElement.style.transition = "transform 0.3s ease";
        });

        input.addEventListener("blur", function () {
          this.parentElement.style.transform = "scale(1)";
        });
      });

      // Button hover effects
      const loginBtn = document.querySelector(".btn-login");
      loginBtn.addEventListener("mouseenter", function () {
        this.innerHTML = '<i class="fas fa-rocket me-2"></i>Launch Dashboard';
      });

      loginBtn.addEventListener("mouseleave", function () {
        this.innerHTML = '<i class="fas fa-sign-in-alt me-2"></i>Sign In';
      });
    </script>
  </body>
</html>
